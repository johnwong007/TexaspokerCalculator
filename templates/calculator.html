{% load staticfiles %}
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
    <title>德堡德州扑克计算器</title>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script type ="text/javascript">
    var community_cards = new Array(-1, -1, -1, -1, -1)
    console.log("==================>"+community_cards.toString())
    function clickCommunityCard(tag){
        comm = document.getElementById("community"+tag)
        comm.setAttribute("width", 98)
        comm.setAttribute("height", 120)
        comm.setAttribute("src", "/static/db_poker/0_4.png")
        console.log(tag)
    }
    
    function clickHandCard(tag){
        comm = document.getElementById("hand"+tag)
        comm.setAttribute("width", 98)
        comm.setAttribute("height", 120)
        comm.setAttribute("src", "/static/db_poker/0_4.png")
        console.log(tag)
    }

    function card(tag, cardvalue){
	let url = "http://47.95.3.79/calEquity/";
	$.get(url,(res)=>{
		console.log(res);
	});
        //console.log(tag)
        //$.ajax({
        //type: 'GET',
        //url: 'http://47.95.3.79/calEquity/?tag='+tag,
    }
    function changeSelectCards(cardId){
        for(var i = 0 ; i < 4 ; i++){
            comm = document.getElementById("card"+i.toString())
            if(cardId=="T"){
                cardId = "10"
            }
            var pic = "/static/db_poker/"+i.toString()+"_"+cardId+".png"
            console.log(pic)
            comm.setAttribute("src", pic)
        }
    }
    var selectedElementId = null
    function clearCard(){
        //alert(selectedElementId)
        if(selectedElementId == null){
            alert("you not select any card!")
        }

    }
    function reset(){
        var cardId = "A"
        for(var i = 0 ; i < 4 ; i++){
            comm = document.getElementById("card"+i.toString())
            if(cardId=="T"){
                cardId = "10"
            }
            var pic = "/static/db_poker/"+i.toString()+"_"+cardId+".png"
            console.log(pic)
            comm.setAttribute("src", pic)
        }
    
    }
    function calculate(){
        console.log("calculate")
    }
    </script>
</head>
<body bgcolor="#555555">
    <p align="center">德堡德州扑克计算器</p>
    <p>
    公共牌
    {% for i in '01234'|make_list %}
        <!--<input type="button" value="button" onclick="clickCommunityCard({{i}})" width="98" height="136"/>-->
        <img id="community{{i}}" src="/static/db_poker/poker_front.png" onclick="clickCommunityCard({{i}})" width="98" height="136"/>
    {% endfor %}
    </p>
   
    <!--
    {% for i in '1'|make_list %}
        <p>

        {% ifequal i "1" %}
            <img id="12" src="/static/db_poker/0_A.png" onclick="card('12', 'A')" width="98" height="136"/>
            <img id="25" src="/static/db_poker/1_A.png" onclick="card('25', 'A')" width="98" height="136"/>
            <img id="38" src="/static/db_poker/2_A.png" onclick="card('38', 'A')" width="98" height="136"/>
            <img id="51" src="/static/db_poker/3_A.png" onclick="card('51', 'A')" width="98" height="136"/>
            <img id="11" src="/static/db_poker/0_K.png" onclick="card('11', 'K')" width="98" height="136"/>
            <img id="24" src="/static/db_poker/1_K.png" onclick="card('24', 'K')" width="98" height="136"/>
            <img id="37" src="/static/db_poker/2_K.png" onclick="card('37', 'K')" width="98" height="136"/>
            <img id="50" src="/static/db_poker/3_K.png" onclick="card('50', 'K')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="10" src="/static/db_poker/0_Q.png" onclick="card('10', 'Q')" width="98" height="136"/>
            <img id="23" src="/static/db_poker/1_Q.png" onclick="card('23', 'Q')" width="98" height="136"/>
            <img id="36" src="/static/db_poker/2_Q.png" onclick="card('36', 'Q')" width="98" height="136"/>
            <img id="49" src="/static/db_poker/3_Q.png" onclick="card('49', 'Q')" width="98" height="136"/>
            <img id="9" src="/static/db_poker/0_J.png" onclick="card('9', 'J')" width="98" height="136"/>
            <img id="22" src="/static/db_poker/1_J.png" onclick="card('22', 'J')" width="98" height="136"/>
            <img id="35" src="/static/db_poker/2_J.png" onclick="card('35', 'J')" width="98" height="136"/>
            <img id="48" src="/static/db_poker/3_J.png" onclick="card('48', 'J')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="8" src="/static/db_poker/0_10.png" onclick="card('8', '10')" width="98" height="136"/>
            <img id="21" src="/static/db_poker/1_10.png" onclick="card('21', '10')" width="98" height="136"/>
            <img id="34" src="/static/db_poker/2_10.png" onclick="card('34', '10')" width="98" height="136"/>
            <img id="47" src="/static/db_poker/3_10.png" onclick="card('47', '10')" width="98" height="136"/>
            <img id="7" src="/static/db_poker/0_9.png" onclick="card('7', '9')" width="98" height="136"/>
            <img id="20" src="/static/db_poker/1_9.png" onclick="card('20', '9')" width="98" height="136"/>
            <img id="33" src="/static/db_poker/2_9.png" onclick="card('33', '9')" width="98" height="136"/>
            <img id="46" src="/static/db_poker/3_9.png" onclick="card('46', '9')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="6" src="/static/db_poker/0_8.png" onclick="card('6', '8')" width="98" height="136"/>
            <img id="19" src="/static/db_poker/1_8.png" onclick="card('19', '8')" width="98" height="136"/>
            <img id="32" src="/static/db_poker/2_8.png" onclick="card('32', '8')" width="98" height="136"/>
            <img id="45" src="/static/db_poker/3_8.png" onclick="card('45', '8')" width="98" height="136"/>
            <img id="5" src="/static/db_poker/0_7.png" onclick="card('5', '7')" width="98" height="136"/>
            <img id="18" src="/static/db_poker/1_7.png" onclick="card('18', '7')" width="98" height="136"/>
            <img id="31" src="/static/db_poker/2_7.png" onclick="card('31', '7')" width="98" height="136"/>
            <img id="44" src="/static/db_poker/3_7.png" onclick="card('44', '7')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="4" src="/static/db_poker/0_6.png" onclick="card('4', '6')" width="98" height="136"/>
            <img id="17" src="/static/db_poker/1_6.png" onclick="card('17', '6')" width="98" height="136"/>
            <img id="30" src="/static/db_poker/2_6.png" onclick="card('30', '6')" width="98" height="136"/>
            <img id="43" src="/static/db_poker/3_6.png" onclick="card('43', '6')" width="98" height="136"/>
            <img id="3" src="/static/db_poker/0_5.png" onclick="card('3', '5')" width="98" height="136"/>
            <img id="16" src="/static/db_poker/1_5.png" onclick="card('16', '5')" width="98" height="136"/>
            <img id="29" src="/static/db_poker/2_5.png" onclick="card('29', '5')" width="98" height="136"/>
            <img id="42" src="/static/db_poker/3_5.png" onclick="card('42', '5')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="2" src="/static/db_poker/0_4.png" onclick="card('2', '4')" width="98" height="136"/>
            <img id="15" src="/static/db_poker/1_4.png" onclick="card('15', '4')" width="98" height="136"/>
            <img id="28" src="/static/db_poker/2_4.png" onclick="card('28', '4')" width="98" height="136"/>
            <img id="41" src="/static/db_poker/3_4.png" onclick="card('41', '4')" width="98" height="136"/>
            <img id="1" src="/static/db_poker/0_3.png" onclick="card('1', '3')" width="98" height="136"/>
            <img id="14" src="/static/db_poker/1_3.png" onclick="card('14', '3')" width="98" height="136"/>
            <img id="27" src="/static/db_poker/2_3.png" onclick="card('27', '3')" width="98" height="136"/>
            <img id="40" src="/static/db_poker/3_3.png" onclick="card('40', '3')" width="98" height="136"/>
        {% endifequal %}
        {% ifequal i "1" %}
            <img id="0" src="/static/db_poker/0_2.png" onclick="card('0', '2')" width="98" height="136"/>
            <img id="13" src="/static/db_poker/1_2.png" onclick="card('13', '2')" width="98" height="136"/>
            <img id="26" src="/static/db_poker/2_2.png" onclick="card('26', '2')" width="98" height="136"/>
            <img id="39" src="/static/db_poker/3_2.png" onclick="card('39', '2')" width="98" height="136"/>
            <img id="-1" src="/static/db_poker/poker_back.png"  width="98" height="136"/>
            <img id="-1" src="/static/db_poker/poker_back.png"  width="98" height="136"/>
            <img id="-1" src="/static/db_poker/poker_back.png"  width="98" height="136"/>
            <img id="-1" src="/static/db_poker/poker_back.png"  width="98" height="136"/>
        {% endifequal %}
        </p>
    {% endfor %}
    -->

    <p>
        <img id="card0" src="/static/db_poker/0_A.png" onclick="clickHandCard(\"card0\")" width="98" height="136"/>
        <img id="card1" src="/static/db_poker/1_A.png" onclick="clickHandCard(\"card1\")" width="98" height="136"/>
        <img id="card2" src="/static/db_poker/2_A.png" onclick="clickHandCard(\"card2\")" width="98" height="136"/>
        <img id="card3" src="/static/db_poker/3_A.png" onclick="clickHandCard(\"card3\")" width="98" height="136"/>
        <input type='button' value="reset" onclick="reset()" width='240' height='60'>
        <input type='button' value="clear" onclick="clearCard()">
        <input type='button' value="计算胜率" style='font-size:40px' onclick="calculate()">
    </p>
    <p>
    {% for i in 'AKQJT98765432'|make_list %}
        <input type='button' value="button{{i}}" id="{{i}}" onclick="changeSelectCards('{{i}}')" width='240' height='60'>
    {% endfor %}
    </p>
    {% for i in '1234567'|make_list %}
        <p>
        <img id="hand{{ i|add:i|add:1 }}" src="/static/db_poker/poker_front.png" onclick="clickHandCard({{ i|add:i|add:1 }})" width="98" height="136"/>
        <img id="hand{{ i|add:i|add:2 }}" src="/static/db_poker/poker_front.png" onclick="clickHandCard({{ i|add:i|add:2 }})" width="98" height="136"/>
        </p>
    {% endfor i %}


</body>
</html>
